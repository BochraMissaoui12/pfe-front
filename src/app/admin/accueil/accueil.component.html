<div class="dashboard-layout">
    <app-sidebar></app-sidebar>
    <div class="main-content">
        <header class="topbar">
            <div class="left"></div>
            <div class="right">
                <button class="icon-btn notification" (click)="toggleNotifications()">
                    <i class="fa fa-bell"></i>
                    <span *ngIf="notifications.length > 0" class="notif-badge">{{ notifications.length }}</span>
                </button>
                <div class="notif-dropdown" *ngIf="showNotifications">
                    <div *ngIf="notifications.length === 0" class="notif-empty">
                        Aucune nouvelle notification.
                    </div>
                    <div *ngFor="let notif of notifications" class="notif-item" (click)="consulterNotification(notif)">
                        <strong>{{ notif.titre }}</strong>
                        <span class="notif-date">{{ notif.dateCreation | date:'short' }}</span>
                        <div class="notif-msg">{{ notif.message }}</div>
                    </div>
                </div>
                <button class="icon-btn logout" (click)="logout()">
                    <i class="fa fa-sign-out-alt"></i>
                </button>

            </div>
        </header>
        <div class="stats-container">
            <h2>Statistiques</h2>
            <div class="cards">
                <div class="card" *ngFor="let stat of stats">
                    <div class="icon">
                        <i class="fas" [ngClass]="stat.icon"></i>
                    </div>
                    <div class="info">
                        <h3>{{ stat.count }}</h3>
                        <p>{{ stat.label }}</p>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>